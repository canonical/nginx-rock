summary: Create all-defaults nginx container (ipv6 test)

execute: |

  # Clean up on exit
  trap "docker stop nginx-rock >/dev/null 2>&1 || true" EXIT

  # Run the Nginx container
  docker run -d --rm --name nginx-rock -p 48080:80 nginx:1.28-26.04

  # Wait for Nginx to be ready (timeout after 30 seconds)
  timeout 30 bash -c 'until curl -sSf http://127.0.0.1:48080 >/dev/null; do sleep 1; done'

  # Test Nginx is responding
  curl -sS http://[::1]:48080 | grep -Fq "Welcome to nginx!"
